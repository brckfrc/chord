# Chord Backend Configuration
# Template file - DO NOT EDIT MANUALLY
# Run ./setup-env.sh to generate .env from this template

# ============================================
# Network Configuration
# ============================================
HOST={{HOST}}
LAN_IP={{LAN_IP}}
PROTOCOL={{PROTOCOL}}
WS_PROTOCOL={{WS_PROTOCOL}}

# ============================================
# Port Configuration
# ============================================
API_PORT=5049
FRONTEND_PORT=5173
LIVEKIT_WS_PORT=7880
LIVEKIT_RTC_PORT=7881
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
TURN_PORT=3478

# ============================================
# Database (SQL Server)
# ============================================
SQL_SA_PASSWORD={{SQL_SA_PASSWORD}}
SQL_SERVER_HOST=localhost
SQL_SERVER_PORT=1433
DATABASE_NAME=ChordDB

# ============================================
# Redis
# ============================================
REDIS_CONNECTION=localhost:6379

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET={{JWT_SECRET}}
JWT_ISSUER=ChordAPI
JWT_AUDIENCE=ChordClient
JWT_EXPIRY_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRY_DAYS=7

# ============================================
# CORS (Frontend URLs)
# ============================================
CORS_ORIGINS={{CORS_ORIGINS}}

# ============================================
# MinIO (Object Storage)
# ============================================
MINIO_ENDPOINT=localhost:9000
# For MinIO container
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD={{MINIO_ROOT_PASSWORD}}
# For backend API (same values as above)
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY={{MINIO_ROOT_PASSWORD}}
MINIO_BUCKET_NAME=chord-uploads
MINIO_USE_SSL=false
MINIO_PUBLIC_ENDPOINT={{PROTOCOL}}://{{HOST}}:9000

# ============================================
# LiveKit (WebRTC Voice/Video)
# ============================================
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET={{LIVEKIT_API_SECRET}}
LIVEKIT_URL={{WS_PROTOCOL}}://{{HOST}}:7880
# Public URL for frontend (reverse proxy path, e.g., wss://domain.com/livekit)
LIVEKIT_PUBLIC_URL={{WS_PROTOCOL}}://{{DOMAIN}}/livekit
LIVEKIT_NODE_IP={{LIVEKIT_NODE_IP}}

# ============================================
# TURN Server (NAT Traversal)
# ============================================
TURN_SECRET={{TURN_SECRET}}
TURN_REALM=chord.local
TURN_NETWORK_MODE=bridge

# ============================================
# Domain (for Production/Caddy)
# ============================================
DOMAIN={{DOMAIN}}
